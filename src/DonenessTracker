# âœ… Things I Wanna Do Before Release

- fngrng Redesign
  - Nav âœ…
    - Logo âœ…
    - CurrentLevel âœ…
      - Dropdown âœ…
    - WordScore âœ…
      - Dropdown âœ…
    - Clock âœ…
      - Dropdown
    - âŒƒI âœ…
      - Slideout
  - Layout Header âœ…
    - Dropdown âœ…
  - Game
    - PlayTime âœ…
      - Display âœ…
        - Toggles âœ…
      - Input âœ…
    - GameOver âœ… (but with future persistence of past scores planned, peer layout & accompanying "reset âŒƒR" command?)
  - Keyboard âœ…
    - Toggles âœ…


- Make Word count gray if in Time Limit mode (w/no max displayed?)
- De-focus all controls on game start so that space doesn't do weird things
- Add Reset (âŒƒX?) command + affordance so window reload isn't necessary to get clickable bits back.
- Implement Clickable bits, starting with the clickable toggles
  - Wrap 6 components in HoverableControls => Levels & ~~Layout~~ also use MenuOptions component
- Auto-hide controls with setTimeout on Keydown?
- Convert Keyboard CSS to rems so entire UX can be manually resized if someone
  REALLY wants a super-skinny window, or has a super-large screen
- Disable Full Sentence Mode when Custom layout hasn't got full alpha-punct
  - Maybe add hover explanation for disabled controls?
- Update the Tailwind base colors to better match my Figma mocks
- Add some fly-ins/outs?
- Do a 'naming pass' for consistency. E.g., is it "layoutMap" or "keyMap" orâ€¦something clearer?
- Remove $wireframe thingies
- Replace BottomText with other attributions & stuff
- Documentation
- Publish to Netlifyâ€¦maybe with custom domain
- Write dev.to post, & post to Reddits for ergodoz/moonlander/colemak

# ðŸž Known Bugs
- â˜£ï¸ Clicking on Toggle preserves focus causing spacebar to retrigger it
- â˜£ï¸ Capital O fails on Colemak-DH (types : instead of O)
- Heisenbug: sometimes keypress goes to game, not custom thingy âŒ
- Custom mode: words should be filtered out if punctuation isn't in the current letter set. StR: Set to Custom w/Punctuation on. Some words become unplayable when their punctuation isn't mapped.
- Weird keyboard blinking bug: set ARST, then click A âŒ
  Expected â†’ A blinks and gets brighter
  Actual â†’ A blinks, but ARST all get brighter

- "Over-matching" fails to turn input red
  StR: Example line: "the hat that this"
    - Type "thee"
    Expected â†’ Display has green "the" (because the error's on the space) & Input is red
    Actual â†’ Display has green "the" but Input stays black
    Note: This is a model-level issue. Same bug in both old & new designs
- Custom prompt should be empty if no keys are mapped! (i.e., if the levels are empty)
- Still seing >100% accuracy from time to time. ðŸ™€
- Encountered Capital "Sarah" when capitals not allowed (custom map)
- Holding down a modifier key gets ignored by combo handler. Might need to fork `svelte-keydown` or switch it out for `mousetrap`

# Overview

Here's a quick summary of the component hierarchy

App
  TopNav
    PreferenceMenu
  LevelSelect
    LevelButton
  Main
    GameZone
      ResetButton
      ScrollingPrompt
        SingleCharacter
        SingleWord
      LineByLinePrompt
        SingleLine
        (SingleCharacter)
        (SingleWord)
      UserInput
      ScoreBoard
        WordScore
        Clock
        Results
    VisualKeyboard
      KeyboardDivs
    BottomText
  KeyboardSettings

# Playground & Tests

There are also two components accessible only through the super-secret easter-egg keyboard shortcut: âŒ¥T, which toggles the hierarchy to look like this â†“.

(App)
  Playground
  Tests

The Playground is a place to mess with idividual components and other Svelty things without having to worry about accidentally checking in breaking changes.

By contrast, Tests.svelte runs (and displays results for) a set of unit tests put together using a dead-simple pattern for tests that I came up with after deciding that I didn't have the patience to follow the multi-step instructions for Jest/Jasmine/Whatever integration since those things don't support ES6 out of the box. It's actually pretty fun to have the test results right in the browser.

It's easy enough to see how the tests work just by looking at the existing ones. Basically, each test result is passed to the display as a 2-part array: [description, result].

ðŸ¥· Pro tip: Add a 3rd element to the array to have JSON.stringified results appended below a given test. This is handy as a way to get a top-level view into a failing test (or a strangely-passing one) without having to console.log it. As with logging, I prefer not to check these things in, but if you do, at least they won't pollute the running app's console.

ðŸ¤ž Note: I'm on a Mac. Hopefully alt-T has the same toggling effect on whatever other machines folks are using.

# Icebox
- Persist average accuracy
  - Surface in Results.svelte UX
  - Should be per-layout, per level
- Reduce conversions between strings and arrays? (I just have a feeling
  that there's some unnecessary back-and-forth going on here.)
  - Document every transition that uses .split/.join with either " " or "".
- Auto-select number input when using keyboard shortcuts for Word/Time limit modes
- The entire site has had zero a11y effort put in so far, in part because I haven't used the tech & thus don't understand the issues at play.
- Toy with timeouts to make selecting a layout less distracting?
